function getThemeMode(){var e=localStorage.getItem("Fluid_Color_Scheme");return"dark"===e||"light"===e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function setBackgroundImage(e){var o=document.querySelector("body"),t=document.querySelector("#board"),r=document.querySelectorAll(".dropdown-menu");"dark"===e?(o.style.backgroundColor="#1A1A1A",o.style.backgroundImage='url("/img/Xuan.png")',o.style.backgroundRepeat="repeat",t.style.backgroundColor="#1A1A1A",t.style.backgroundImage='url("/img/Xuan.png")',t.style.backgroundRepeat="repeat",2<=r.length&&(r[0].style.boxShadow="0 0 5px #000",r[1].style.boxShadow="0 0 5px #000",r[0].style.backgroundColor="#000",r[1].style.backgroundColor="#000")):(o.style.backgroundColor="#EEE",o.style.backgroundImage='url("/img/Xuan.png")',o.style.backgroundRepeat="repeat",t.style.backgroundColor="#FFF",t.style.backgroundImage='url("/img/Xuan.png")',t.style.backgroundRepeat="repeat",r[0].style.boxShadow="0 0 5px #999",r[1].style.boxShadow="0 0 5px #999",r[0].style.backgroundColor="#FFF",r[1].style.backgroundColor="#FFF")}function initBackground(){setBackgroundImage(getThemeMode())}function resetBannerStyles(){var e=document.querySelector("#banner"),o=document.querySelector("#banner .mask");e&&(e.style.backgroundImage="none"),o&&(o.style.backgroundColor="rgba(0,0,0,0)")}let resizeTimeout;themeBtn.addEventListener("click",(()=>{var e="light"===getThemeMode()?"dark":"light";localStorage.setItem("Fluid_Color_Scheme",e),setBackgroundImage(e),console.log(`切换到${"light"==e?"日间":"夜间"}模式`)})),initBackground(),resetBannerStyles(),window.addEventListener("resize",(()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout((()=>{setBackgroundImage(getThemeMode())}),200)}),{passive:!0});