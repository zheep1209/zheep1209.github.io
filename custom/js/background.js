function getThemeMode(){var e=localStorage.getItem("Fluid_Color_Scheme");return"dark"===e||"light"===e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function setBackgroundImage(e){var t=document.querySelector("body"),r=document.querySelector("#board");"dark"===e?(t.style.backgroundColor="#1A1A1A",t.style.backgroundImage='url("/img/Xuan.png")',t.style.backgroundRepeat="repeat",r.style.backgroundColor="#1A1A1A"):(t.style.backgroundColor="#EEE",t.style.backgroundImage='url("/img/Xuan.png")',t.style.backgroundRepeat="repeat",r.style.backgroundColor="#FFF"),r.style.backgroundImage='url("/img/Xuan.png")',r.style.backgroundRepeat="repeat"}function initBackground(){setBackgroundImage(getThemeMode())}function resetBannerStyles(){var e=document.querySelector("#banner"),t=document.querySelector("#banner .mask");e&&(e.style.backgroundImage="none"),t&&(t.style.backgroundColor="rgba(0,0,0,0)")}let resizeTimeout,themeBtn=document.querySelector("#color-toggle-btn");themeBtn&&themeBtn.addEventListener("click",(()=>{var e=getThemeMode();setBackgroundImage(e),console.log(`切换到${"light"===e?"日间":"夜间"}模式`)})),initBackground(),resetBannerStyles(),window.addEventListener("resize",(()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout((()=>{setBackgroundImage(getThemeMode())}),200)}),{passive:!0});