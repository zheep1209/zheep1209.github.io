function getThemeMode(){return"dark"===localStorage.getItem("Fluid_Color_Scheme")?"dark":"light"}function setBackgroundImage(e){var t=document.querySelector("#web_bg"),o=document.querySelectorAll(".dropdown-menu"),r=document.querySelector("body"),n=document.querySelector("#board");!t||o.length<2||("dark"===e?(n.style.background='url("/img/Xuan.png") repeat, #1A1A1A',r.style.background='url("/img/Xuan.png") repeat, #1A1A1A',t.style.background="#1A1A1A",o[0].style.boxShadow="0 0 5px #000",o[1].style.boxShadow="0 0 5px #000",o[0].style.background="#000",o[1].style.background="#000"):(n.style.background='url("/img/Xuan.png") repeat, #FFF',r.style.background='url("/img/Xuan.png") repeat, #EEE',t.style.background="#FFF",o[0].style.boxShadow="0 0 5px #999",o[1].style.boxShadow="0 0 5px #999",o[0].style.background="#FFF",o[1].style.background="#FFF"))}function initBackground(){setBackgroundImage(getThemeMode())}function resetBannerStyles(){var e=document.querySelector("#banner"),t=document.querySelector("#banner .mask");e&&(e.style.backgroundImage="none"),t&&(t.style.backgroundColor="rgba(0,0,0,0)")}let resizeTimeout,themeBtn=document.querySelector("#color-toggle-btn");themeBtn&&themeBtn.addEventListener("click",(()=>{var e=getThemeMode();setBackgroundImage(e),console.log(`切换到${"light"===e?"日间":"夜间"}模式`)})),initBackground(),resetBannerStyles(),window.addEventListener("resize",(()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout((()=>{setBackgroundImage(getThemeMode())}),200)}),{passive:!0});